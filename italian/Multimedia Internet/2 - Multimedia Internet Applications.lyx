#LyX 2.0 created this file. For more info see http://www.lyx.org/
\lyxformat 413
\begin_document
\begin_header
\textclass article
\use_default_options true
\maintain_unincluded_children false
\language english
\language_package default
\inputencoding auto
\fontencoding global
\font_roman default
\font_sans default
\font_typewriter default
\font_default_family default
\use_non_tex_fonts false
\font_sc false
\font_osf false
\font_sf_scale 100
\font_tt_scale 100

\graphics default
\default_output_format default
\output_sync 0
\bibtex_command default
\index_command default
\paperfontsize default
\spacing single
\use_hyperref false
\papersize default
\use_geometry true
\use_amsmath 1
\use_esint 1
\use_mhchem 1
\use_mathdots 1
\cite_engine basic
\use_bibtopic false
\use_indices false
\paperorientation portrait
\suppress_date false
\use_refstyle 1
\index Index
\shortcut idx
\color #008000
\end_index
\leftmargin 1cm
\topmargin 1cm
\rightmargin 1cm
\bottommargin 1cm
\headheight 1cm
\headsep 1cm
\footskip 0.5cm
\secnumdepth 3
\tocdepth 3
\paragraph_separation indent
\paragraph_indentation default
\quotes_language english
\papercolumns 1
\papersides 1
\paperpagestyle default
\tracking_changes false
\output_changes false
\html_math_output 0
\html_css_as_file 0
\html_be_strict false
\end_header

\begin_body

\begin_layout Title
Multimedia Internet Applications
\begin_inset Foot
status open

\begin_layout Plain Layout
Quest'opera è sotto licenza Creative Commons Attribuzione - Condividi allo
 stesso modo 2.5 Italia License.
\end_layout

\end_inset


\end_layout

\begin_layout Author
Daniele Iamartino
\end_layout

\begin_layout Date
Anno scolastico 2012/2013
\end_layout

\begin_layout Section*
Lezione 3 - (Seconda parte del corso)
\end_layout

\begin_layout Standard
In questa seconda parte vedremo applicazioni, mentre nella prima parte vederemo
 architetture di rete.
\end_layout

\begin_layout Standard
Nella parte di applicazione ci occuperemo di quello che è chiamato 
\begin_inset Quotes eld
\end_inset


\emph on
control plane
\emph default

\begin_inset Quotes erd
\end_inset

 (cioè signaling).
 È la parte della rete che verifica il controlo della connessione.
\end_layout

\begin_layout Standard
Nella parte applicativa distinguiamo tra:
\end_layout

\begin_layout Itemize
User plane:
\end_layout

\begin_deeper
\begin_layout Itemize
Applications
\end_layout

\begin_layout Itemize
Control plane
\end_layout

\end_deeper
\begin_layout Itemize
Management plane
\end_layout

\begin_layout Standard
Però oggi iniziamo con problemi a livello di rete a basso livello.
\end_layout

\begin_layout Standard
Per prima cosa vedremo il passaggio tra una rete basata su doppini in rame
 e una rete basata su fibra.
\end_layout

\begin_layout Standard
Le prime due lezioni di questa seconda parte saranno riguardo alle NGN:
 
\series bold
\emph on
Next Generation Networks
\series default
\emph default
.
\end_layout

\begin_layout Standard
In alcuni paesi è iniziata la migrazione, in altri si è a 
\begin_inset Quotes eld
\end_inset

metà
\begin_inset Quotes erd
\end_inset

, in altri è già diffusa.
\end_layout

\begin_layout Standard
Il principale problema è il costo, anche con aiuti governativi non si riesce
 a sostituire tutto il rame con fibra in poco tempo.
\end_layout

\begin_layout Standard
Quindi questo processo richiederà sicuramente ancora molto tempo.
\end_layout

\begin_layout Subsection*
Com'è formata una rete ad accesso in rame
\end_layout

\begin_layout Standard
Stiamo parlando di una 
\series bold
rete di accesso
\series default
 (
\emph on
access network
\emph default
).
 Ci sono diversi livelli gerarchici di reti, principalmente divise in 
\emph on
access network
\emph default
 e 
\emph on
backbone network
\emph default
.
 La rete di accesso è quella che collega l'utente finale alla rete dell'operator
e.
 La rete di accesso è la più vasta.
 Quindi è molto più facile fare la migrazione alla fibra per la rete di
 backbone, che è la meno vasta.
\end_layout

\begin_layout Standard
\begin_inset Graphics
	filename copper_network.png
	scale 50

\end_inset


\end_layout

\begin_layout Standard
Come è strutturata la rete solitamente?
\end_layout

\begin_layout Itemize

\series bold
Backbone
\series default
 dell'ISP
\end_layout

\begin_layout Itemize
Un 
\series bold
\emph on
Central Office
\series default
\emph default
 dell'ISP (in italiano chiamato 
\series bold
SGU
\series default
)
\end_layout

\begin_deeper
\begin_layout Itemize
Abbiamo circa 700 
\emph on
central office
\emph default
 in Italia.
\end_layout

\begin_layout Itemize
Solitamente il central office è collegato al backbone tramite una rete in
 fibra.
\end_layout

\begin_layout Itemize
Spesso nelle grandi città il costo del posto fisico dove mettere il 
\emph on
central office
\emph default
 è abbastanza critico.
 Si cerca di risparmiare lo spazio, eventualmente accorpando con l'
\emph on
SL
\emph default
.
\end_layout

\end_deeper
\begin_layout Itemize

\series bold
Exchange
\series default
, in italiano chiamati 
\series bold
\emph on
Stadio di Linea 
\series default
\emph default
(
\series bold
\emph on
SL
\series default
\emph default
), sono altri 
\begin_inset Quotes eld
\end_inset

edifici
\begin_inset Quotes erd
\end_inset

 che contengono una serie di elementi di rete che si collegano ad un unico
 
\emph on
central office
\emph default
 (in rame o fibra a seconda del livello di sviluppo della rete).
 L'elemento principale nello stadio di linea è il 
\series bold
DSLAM
\series default
 (
\emph on
Digital Subscriber
\emph default
 
\emph on
Line Access Multiplexer
\emph default
).
 Questo 
\emph on
DSLAM
\emph default
 risuddivide a sua volta la rete.
 Il DSLAM ha poi una serie di collegamenti in rame con un altro dispositivo
 (SDF).
 In italia ci sono circa 10'000 SL.
 Insieme al 
\emph on
dslam
\emph default
 c'è prima l'
\emph on
ODF
\emph default
 (
\emph on
Optical Distribution Frame
\emph default
), una matrice di collegamenti in fibra.
 E dopo il 
\emph on
dslam
\emph default
 c'è il 
\emph on
MDF
\emph default
 (
\emph on
Main Distribution Frame
\emph default
), che è invece una matrice di collegamenti in rame.
\end_layout

\begin_deeper
\begin_layout Itemize
Quindi nello 
\emph on
stadio di linea
\emph default
 c'è: 
\begin_inset Formula $\text{ODF}\:\rightarrow\:\text{DSLAM}\:\rightarrow\:\text{MDF}$
\end_inset


\end_layout

\end_deeper
\begin_layout Itemize

\series bold
SDF
\series default
 (
\emph on
Service Distribution Frame
\emph default
), in italiano 
\begin_inset Quotes eld
\end_inset


\series bold
\emph on
armadio
\series default
\emph default

\begin_inset Quotes erd
\end_inset

 o 
\begin_inset Quotes eld
\end_inset


\emph on
chiostrino
\emph default

\begin_inset Quotes erd
\end_inset

.
 Sono quei dispositivi che vediamo per strada.
 Essi si collegano con il DSLAM in rame e le abitazioni.
 Questi elementi di rete sono 
\series bold
passivi
\series default
! È semplicemente una matrice di collegamenti che mappa un cavo verso l'abitazio
ne verso un cavo verso il DSLAM.
 Quindi non effettua multiplexing.
 È comodo perché permette di cambiare facilmente i collegamenti verso le
 abitazioni.
 In Italia ce ne sono circa 150'000.
\end_layout

\begin_layout Itemize

\series bold
DF 
\series default
(
\emph on
Distribution Frame
\emph default
): È un dispositivo presente solitamente solo in alcuni grossi edifici,
 è sostanzialmente uguale all'SDF e serve a gestire i collegamenti del palazzo.
 In Italia ce ne sono circa 1,5 milioni.
\end_layout

\begin_layout Standard
I segmenti di rete sono chiamati in questo modo:
\end_layout

\begin_layout Itemize

\series bold
Rete di giunzione 
\series default
(
\emph on
\bar under
junction network
\emph default
\bar default
): il segmento che collega il 
\emph on
central office
\emph default
 al 
\emph on
backbone
\emph default
.
 
\end_layout

\begin_layout Itemize

\series bold
Rete di distribuzione primaria
\series default
 (
\emph on
\bar under
primary distribution network
\emph default
\bar default
): il segmento che collega il central office all'armadio (solitamente tra
 200 e 3000 metri, a seconda del tipo di zona montuosa o meno).
\end_layout

\begin_layout Itemize

\series bold
Rete di distribuzione secondaria
\series default
 (
\emph on
\bar under
secondary distribution network
\emph default
\bar default
): il segmento che collega l'armadio all'abitazione (solitamente tra 100
 e 700 metri).
\end_layout

\begin_layout Standard
Solitamente l'unica cosa che vediamo di tutta questa rete è l'SDF (l'armadio).
 Tutto il resto della rete è sottoterra o all'interno di edifici.
\end_layout

\begin_layout Standard
I collegamenti in rame sono dei collegamenti in rame ad alta capacità.
 Sono dei grossi cavi che contengono tantissimi sottocavi.
\end_layout

\begin_layout Standard
Solitamente questi cavi sono pressurizzati, cioè sono riempiti di gas.
 Se qualcosa buca i cavi c'è un sensore che si accorge della pressione e
 viene inviata una squadra tecnica per dei controlli.
\end_layout

\begin_layout Standard
In Italia la lunghezza media dei collegamenti in rame è pù bassa che negli
 altri paesi.
\end_layout

\begin_layout Subsubsection*
Tipico caso di ADSL
\end_layout

\begin_layout Standard
Con l'ADSL classica abbiamo qualche Mbit/s di downstream e ~100kB/s di upstream.
 Abbiamo più capacità in downstream rispetto a capacità in upstream perché
 è una linea asimmetrica.
\end_layout

\begin_layout Standard
Era una buona soluzione fino a 15 anni fa probabilmente, quando il web browsing
 era il servizio principale (ed era ancora il web 
\begin_inset Quotes eld
\end_inset

1.0
\begin_inset Quotes erd
\end_inset

).
\end_layout

\begin_layout Standard
Però adesso siamo nel 
\begin_inset Quotes eld
\end_inset

web 2.0
\begin_inset Quotes erd
\end_inset

 o 
\begin_inset Quotes eld
\end_inset

web 3.0
\begin_inset Quotes erd
\end_inset

, dove abbiamo applicazioni p2p.
 Più di metà del traffico di internet è generato da applicazioni p2p, quindi
 serve anche traffico upstream.
\end_layout

\begin_layout Standard
Nei sistemi p2p gli utenti che riescono a condividere con più persone salgono
 all'interno della 
\begin_inset Quotes eld
\end_inset

classifica
\begin_inset Quotes erd
\end_inset

.
\end_layout

\begin_layout Standard
Quindi non è buono per gli utenti finali perché non abbiamo buona capacità
 di upstream quanto vorremmo, ed è male anche per l'ISP perché hanno un
 grosso livello di traffico pagato con una tariffa flat.
\end_layout

\begin_layout Standard
Molti operatori hanno osservato che la percentuale di guadagni provenienti
 dai contratti telefonici ha iniziato a scendere rispetto ai guadagni per
 le connessioni Internet.
 Nel 2008 la telecom inglese ha visto scendere sotto il 50% i guadagni dei
 contratti telefonici rispetto ai guadagni per connettività Internet.
\end_layout

\begin_layout Standard
Inoltre gli operatori hanno anche osservato che il loro servizio dominante
 (la telefonia) è diventato quello con meno traffico all'interno delle loro
 reti, arrivando a pochi punti percentuali rispetto all'intero traffico.
\end_layout

\begin_layout Itemize
Abbiamo poca banda per avere 
\series bold
video streaming
\end_layout

\begin_layout Itemize
Abbiamo poca banda per avere 
\series bold
servizi
\series default
 
\series bold
p2p
\end_layout

\begin_layout Standard
Quindi servono reti di nuova generazione.
\end_layout

\begin_layout Subsection*
Next Generation Access Network
\end_layout

\begin_layout Standard
Il nostro scopo è di sostituire il collegamento fino a casa dell'utente
 con un collegamento in fibra ottica.
\end_layout

\begin_layout Standard
I vari modi per ottenere una rete di nuova generazione sono diversi:
\end_layout

\begin_layout Itemize

\series bold
\emph on
Fiber to the Exchange 
\series default
\emph default
(
\series bold
\emph on
FTTE
\series default
\emph default
)
\end_layout

\begin_layout Itemize

\series bold
\emph on
Fiber to the Cabinet 
\series default
\emph default
(
\series bold
\emph on
FTT
\emph default
C
\series default
)
\end_layout

\begin_layout Itemize

\series bold
\emph on
Fiber to the Building 
\series default
\emph default
(
\series bold
\emph on
FTT
\emph default
B
\series default
)
\end_layout

\begin_layout Itemize

\series bold
\emph on
Fiber to the Home 
\series default
\emph default
(
\series bold
\emph on
FTT
\emph default
H
\series default
)
\end_layout

\begin_layout Standard
Ovviamente abbiamo un trade-off in base alla scelta che facciamo.
 L'ultima è la più costosa ma anche la migliore, la prima è la più economica
 ma anche la peggiore (in termini di velocità).
\end_layout

\begin_layout Subsubsection*
Fiber to the Exchange (FTTE)
\end_layout

\begin_layout Standard
È la soluzione già adottata in Italia e in molti altri pesi per raggiungere
 le velocità classiche dell'ADSL moderna.
\end_layout

\begin_layout Standard
\begin_inset Graphics
	filename copper_network2.png
	scale 50

\end_inset


\end_layout

\begin_layout Standard
Si tratta di far arrivare la fibra ottica dal 
\emph on
central office
\emph default
 allo 
\emph on
stadio di linea
\emph default
.
 Quindi insieme al dislam ci dovrà essere un qualche dispositivo per la
 conversione ottica/elettrica.
 Nei vecchi sistemi italiani lo 
\emph on
stadio di linea
\emph default
 e il 
\emph on
dislam
\emph default
 sono collegati al 
\emph on
central office
\emph default
 tramite il protocollo ATM (o Ethernet in alcuni casi).
 Dal 
\emph on
dislam
\emph default
 verso la rete dell'utente si riesce poi ad utilizzare tecnologie tipo ADSL,
 ADSL2 o ADSL2+.
 Per connessioni con collegamenti inferiori ai 400 metri è possibile anche
 utilizzare VDSL2 (che arriva a velocità molto elevate).
\end_layout

\begin_layout Subsubsection*
Fiber to the Cabinet (FTTC)
\end_layout

\begin_layout Standard
Abbiamo il vantaggio di poter andare più veloce perché il collegamento tra
 cabinet e casa resta in fibra ma è molto più corto del collegamento tra
 cabinet e central office (che invece è in fibra).
 Possiamo arrivare ad utilizzare collegamenti VDSL con 50Mb/s di download
 e 10 Mb/s di upload.
\end_layout

\begin_layout Standard
Abbiamo il problema che al cabinet arriva un segnale ottico e deve uscire
 un segnale elettrico.
 Serve un adattatore nel cabinet, non è più una matrice di collegamenti.
\end_layout

\begin_layout Standard
Quindi il cabinet diventa un dispositivo attivo! Quindi serve anche energia
 al cabinet! Il cabinet diventa più grande, bisogna chiedere dei permessi..
 Diventa complicato aumentare le dimensioni del cabinet.
\end_layout

\begin_layout Standard
\begin_inset Graphics
	filename 001.png
	scale 50

\end_inset


\end_layout

\begin_layout Standard
In questo caso con VDSL2 si riesce a raggiungere 50 Mbps in download e 10
 Mbps in upload.
\end_layout

\begin_layout Standard
Come fa un nuovo ISP a entrare nel mercato? Solitamente le leggi di molti
 stati obbligano il provider di linea principale a permettere ad altri ISP
 di usare la rete di accesso (sotto pagamento fissato dall'autorità per
 la competizione nelle telecomunicazioni).
\end_layout

\begin_layout Standard
L'ISP dominante si chiama 
\emph on
inconbent
\emph default
, quelli secondari si chiamano operatori 
\emph on
OLO
\emph default
.
\end_layout

\begin_layout Standard
Quindi può succedere che all'interno dello stesso cabinet sia presente hardware
 di più operatori.
 Quindi il cabinet deve diventare ancora più grande.
\end_layout

\begin_layout Subsubsection*
Fiber To The Building (FTTB)
\end_layout

\begin_layout Standard
Abbiamo un collegamento ottico dal central office fino al distribution frame
 dell'edificio, non passiamo per nessun cabinet.
 Quindi possiamo rimuovere i cabinet.
 Però poi dal distribution frame al collegamento domestico c'è un breve
 collegamento in rame.
 Nel distribution frame c'è un convertitore ottico-elettrico.
\end_layout

\begin_layout Standard
Sfruttando VDSL2 sul distribution frame possiamo raggiungere anche i 100Mbps.
\end_layout

\begin_layout Standard
\begin_inset Graphics
	filename 002.png
	scale 50

\end_inset


\end_layout

\begin_layout Standard
Il problema è che dobbiamo scavare diversi chilometri nelle strade per posare
 la fibra.
 
\bar under
Non abbiamo il costo dei cabinet
\bar default
 ma abbiamo il costo degli scavi.
\end_layout

\begin_layout Subsubsection*
Fiber To The Home (FTTH)
\end_layout

\begin_layout Standard
È il metodo migliore di tutti, la terminazione ottica arriva all'interno
 dell'appartamento.
 Nell'interno o l'esterno dell'edificio, nel distribution frame abbiamo
 una matrice di collegamenti.
 Abbiamo una rete di accesso completamente in fibra.
\end_layout

\begin_layout Standard
Inoltre possiamo avere collegamenti simmetrici, possiamo arrivare fino a
 1 Gbps di banda 
\series bold
simmetrica
\series default
.
\end_layout

\begin_layout Standard
\begin_inset Graphics
	filename 003.png
	scale 50

\end_inset


\end_layout

\begin_layout Standard
Abbiamo lo stesso problema di FTTB e dobbiamo anche arrivare all'interno
 degli appartamenti.
\end_layout

\begin_layout Standard
È uguale mettere il distribution frame dentro o fuori l'edificio?
\end_layout

\begin_layout Itemize
Se lo mettiamo dentro l'edificio bisogna anche bucare un muro e portare
 il cavo all'interno di qualche locale all'interno dell'edificio.
\end_layout

\begin_deeper
\begin_layout Itemize
Questo può essere un problema perché spesso il punto d'ingresso più semplice
 è la porta o il cancello d'ingresso.
\end_layout

\end_deeper
\begin_layout Itemize
Se lo lasciamo all'esterno ci potrebbero essere meno problemi.
\end_layout

\begin_layout Standard
Il tratto tra l'esterno dell'abitazione e l'interno è chiamato 
\emph on
tratto di adduzione
\emph default
.
\end_layout

\begin_layout Standard
A volte si possono sfruttare i buchi presenti per i tubi del gas, acqua,
 elettricità.
\end_layout

\begin_layout Standard
A volte dal distribution frame dell'edificio si fa partire un cavo per ogni
 piano, dove poi c'è un 
\bar under
collegamento a stella
\bar default
, chiamato 
\emph on
straccietto
\emph default
 che collega più appartamenti.
\end_layout

\begin_layout Standard
La terminazione ottica che arriva all'utente è chiamata anche 
\series bold
\emph on
ONU
\series default
\emph default
 (
\emph on
Optical Network Unit
\emph default
).
\end_layout

\begin_layout Standard
Arriva solitamente 1 fibra per utente da OLT (Optical Line Termination,
 dove c'è il central office) fino all'ONU.
\end_layout

\begin_layout Standard
Per utilizzare la fibra possiamo avere:
\end_layout

\begin_layout Itemize

\series bold
PTP
\series default
 (
\emph on
Point-To-Point Systems
\emph default
): fibra ottica dedicata che utilizza Fast Ethernet o Gigabit Ethernet dall'ONU
 fino al central office dell'ISP.
\end_layout

\begin_layout Itemize

\series bold
PON
\series default
 (
\emph on
Passive Optical Network
\emph default
): Una unica fibra viene condivisa tra più utenti che accedono alla rete
 (abbiamo visto l'esempio del piano).
 Vediamo di seguito alcune tecniche per realizzare questa soluzione.
\end_layout

\begin_layout Subsection*
Elementi delle reti di accesso di nuova generazione (NGAN)
\end_layout

\begin_layout Itemize

\series bold
OLT
\series default
 (
\emph on
Optical Line Termination
\emph default
): È il dispositivo terminale che può essere posto nell' SL o nel 
\emph on
central office
\emph default
.
\end_layout

\begin_layout Itemize

\series bold
ONU
\series default
 (
\emph on
Optical Network Unit
\emph default
): É il dispositivo lato utente che effettua la conversione tra segnale
 ottico e segnale elettrico.
 È posto il più vicino possibile all'utente.
 Più ONU possono essere collegati ad un unico OLT.
\end_layout

\begin_deeper
\begin_layout Itemize
Nel caso di FTTC si trova all'interno del 
\bar under
cabinet
\end_layout

\begin_layout Itemize
Nel caso di FTTB si trova nel 
\bar under
distribution frame
\bar default
 dell'edificio
\end_layout

\end_deeper
\begin_layout Itemize

\series bold
ONT 
\series default
(
\emph on
Optical Network Termination
\emph default
): Nel caso di FTTH è la terminazione in fibra che arriva 
\bar under
a casa
\bar default
 dell'utente.
\end_layout

\begin_layout Itemize

\series bold
ODF
\series default
 (
\emph on
Optical Distribution Frame
\emph default
): È un dispositivo che sostituisce l'MDF all'interno degli edifici dello
 
\emph on
stadio di linea
\emph default
 (SL).
\end_layout

\begin_layout Standard
In alcuni casi quando si effettua un collegamento all'utente può arrivare
 una sola fibra.
 Questo significa che per inviare e ricevere si utilizzano due lunghezze
 d'onda diverse.
 Si divide il canale con WDMA.
\end_layout

\begin_layout Standard
Però di solito il collegamento OLT-ONU utilizza due fibre distinte.
 In altri casi ancora si tiene una fibra aggiuntiva ma spenta (spesso per
 questioni legate all'affitto della linea ad altri operatori.
\end_layout

\begin_layout Standard
I 
\series bold
sistemi punto-punto (PTP systems)
\series default
 sono quei sistemi dove c'è una connessione ottica dedicata tra OLT e ONU
 (oppure ONT).
 Utilizza collegamenti Fast Ethernet (100 Mbps) o Gigabit Ethernet (1 Gbps)
\end_layout

\begin_layout Standard
Solitamente la rete di accesso ha una topologia a stella, comune anche alle
 reti in rame.
\end_layout

\begin_layout Standard
Essendo la linea completamente dedicata per l'utente si raggiungono le prestazio
ni massime.
 Però tutta questa fibra ha un costo non indifferente.
 
\end_layout

\begin_layout Subsection*
Sistemi punto-punto
\end_layout

\begin_layout Subsubsection*
Caso (FTTC) Fiber To The Cabinet
\end_layout

\begin_layout Standard
La fibra arriva dal 
\emph on
central office 
\emph default
oppure dallo 
\emph on
stadio di linea
\emph default
, fino al 
\emph on
cabinet
\emph default
.
\end_layout

\begin_layout Standard
In questo caso nel 
\emph on
cabinet
\emph default
 c'è l'ONU dove si intercollegano fibra e rame.
\end_layout

\begin_layout Standard
\begin_inset Graphics
	filename 004.png
	scale 50

\end_inset


\end_layout

\begin_layout Subsubsection*
Caso (FTTB) Fiber To The Building
\end_layout

\begin_layout Standard
In questo caso la fibra ottica arriva fino al 
\emph on
distribution frame
\emph default
 al'interno dell'edificio.
\end_layout

\begin_layout Standard
\begin_inset Graphics
	filename 005.png
	scale 50

\end_inset


\end_layout

\begin_layout Standard
Il dispositivo ONU in questo caso è posto all'interno del 
\emph on
distribution frame
\emph default
.
\end_layout

\begin_layout Subsubsection*
Caso (FTTH) Fiber To The Home
\end_layout

\begin_layout Standard
È il caso in cui la fibra arriva fino all'interno degli apparamenti.
\end_layout

\begin_layout Standard
\begin_inset Graphics
	filename 006.png
	scale 50

\end_inset


\end_layout

\begin_layout Standard
Le terminazioni ottiche sono poste ad ogni piano dell'edificio.
\end_layout

\begin_layout Standard
Se l'edificio è molto distante dallo stadio di linea o central office può
 essere necessario l'utilizzo di due fibre per raggiungere la velocità di
 1Gbps o 10Gbps.
\end_layout

\begin_layout Subsection*
POM - Passive Optical Network
\end_layout

\begin_layout Standard
Nelle reti di tipo POM si utilizzano solo dispositivi passivi tra l'OLT
 (all'interno del 
\emph on
central office 
\emph default
o 
\emph on
stadio di linea
\emph default
) e l'ONU/ONT.
\end_layout

\begin_layout Standard
In questo caso la capacità della fibra ottica è condivisa tra più utenti.
\end_layout

\begin_layout Standard
I dispositivi passivi possono essere 
\series bold
\emph on
splitters
\series default
\emph default
, dispositivi che sudidvidono la banda per più utenti.
 Cioè effettua il multiplexing del segnale da più fibre su una fibra unica.
\end_layout

\begin_layout Standard
Uno splitter è caratterizzato da:
\end_layout

\begin_layout Itemize

\series bold
\emph on
Split ratio:
\series default
\emph default
 
\begin_inset Formula $\left(1:n\right)$
\end_inset

 dove 
\emph on
n
\emph default
 è il numero di fibre ottiche in uscita (in direzione downlink)
\end_layout

\begin_deeper
\begin_layout Itemize
Il valore di 
\begin_inset Formula $n$
\end_inset

 può variare tra valori tipici di 32,64,128.
\end_layout

\end_deeper
\begin_layout Standard
Il segnale in ingresso allo splitter (in direzione di downlink) viene ritrasmess
o su tutte le 
\begin_inset Formula $n$
\end_inset

 fibre di uscita.
\end_layout

\begin_layout Standard
La 
\series bold
privacy
\series default
 dei dati in questo caso è un problema!
\end_layout

\begin_layout Standard
In figura vediamo un esempio di utilizzo di splitter in una architettura
 FTTB:
\end_layout

\begin_layout Standard
\begin_inset Graphics
	filename 007.png
	scale 50

\end_inset


\end_layout

\begin_layout Standard
Questi splitter vengono solitamente posti all'interno di cabinet sotterranei.
\end_layout

\begin_layout Standard
Lo splitting può essere effettuato più volte, come in figura sopra.
\end_layout

\begin_layout Standard
Lo scopo del secondo splitter è quello di posare meno fibre nell'ultimo
 tratto.
\end_layout

\begin_layout Subsubsection*
Architettura PON nel caso FTTH
\end_layout

\begin_layout Standard
\begin_inset Graphics
	filename 008.png
	scale 50

\end_inset


\end_layout

\begin_layout Standard
In questo caso di solito gli splitters si mettono all'interno del 
\emph on
cabinet
\emph default
 e nel 
\emph on
distribution frame 
\emph default
dell'edificio.
\end_layout

\begin_layout Standard
Gli splitters stradali in questo caso sono di solito 
\begin_inset Formula $\left(1:2\right)$
\end_inset

 o 
\begin_inset Formula $\left(1:4\right)$
\end_inset

, mentre quelli 
\emph on
distribution frame
\emph default
 sono 
\begin_inset Formula $\left(1:8\right)$
\end_inset

 o 
\begin_inset Formula $\left(1:32\right)$
\end_inset


\end_layout

\begin_layout Standard
Quindi si raggiunge alla fine un multiplex di valore 
\begin_inset Formula $\left(1:16\right)$
\end_inset

 fino a 
\begin_inset Formula $\left(1:128\right)$
\end_inset


\end_layout

\begin_layout Subsection*
TDM-PON
\end_layout

\begin_layout Standard
Time Division Multiplexing PONs utilizzano due diverse lunghezze d'onda
 per uplink e downlink.
 L'OLT all'interno del 
\emph on
central office
\emph default
 applica le procedure per l'accesso al mezzo condiviso.
 L'OLT applica una divisione di tempo: il tempo viene suddiviso in slots
 e ogni ramo di collegamento ONU-ONT (user-end) ha un time-slot dedicato.
\end_layout

\begin_layout Standard
Per evitare collisioni viene trasmesso un segnale di sincronizzazione dall'ONT.
\end_layout

\begin_layout Standard
Due standard che sono stati creati per le TDM-PONs sono:
\end_layout

\begin_layout Itemize
ITU G.984 Gigabit-capable-PON (
\series bold
GPON
\series default
)
\end_layout

\begin_deeper
\begin_layout Itemize
1480 nm - 1500 nm per il downlink
\end_layout

\begin_layout Itemize
1260 nm - 1360 nm per l'uplink
\end_layout

\begin_layout Itemize
Possiamo arrivare fino a circa 2.5 Gbps in downstream e 1.25 Gbps in upstream
\end_layout

\begin_layout Itemize
Il rapporto di splitting massimo è 1:128
\end_layout

\begin_layout Itemize
La lunghezza massima del collegamento può superare i 20 km
\end_layout

\begin_layout Itemize
GPON può trasportare ATM o Ethernet tramite incapsulamento
\end_layout

\end_deeper
\begin_layout Itemize
802.3ah Ethernet-PON (
\series bold
EPON
\series default
)
\end_layout

\begin_deeper
\begin_layout Itemize
Trasporta frame Ethernet nativi e utilizza una lunghezza d'onda 
\end_layout

\begin_deeper
\begin_layout Itemize
1490 nm per downstream
\end_layout

\begin_layout Itemize
1310 nm per upstream
\end_layout

\end_deeper
\begin_layout Itemize
Si raggiungono 1.25 Gbps simmetrici di velocità
\end_layout

\begin_layout Itemize
Un singolo collegamento EPON può raggiungere fino a 32 utenti con una distanza
 massima di 20 km
\end_layout

\end_deeper
\begin_layout Standard
Per aumentare la capacità delle reti di accesso ottiche condivise è possibile
 utilizzare la divisione del canale a lunghezza d'onda (WDMA).
\end_layout

\begin_layout Itemize

\series bold
Coarse WDM 
\series default
(
\series bold
CWDM
\series default
) si raggiungono fino a 18 lunghezze d'onda differenti.
\end_layout

\begin_layout Itemize

\series bold
Dense WDM
\series default
 (
\series bold
DWDM
\series default
) permette fino a 162 lunghezze d'onda differenti.
\end_layout

\begin_layout Subsubsection*
Dispositivi per reti WDM-PON
\end_layout

\begin_layout Standard
Il dispositivo fondamentale per creare un collegamento WDM-PON è la 
\emph on
Arrayed Waveguide Grating 
\emph default
(
\series bold
AWG
\series default
).
\end_layout

\begin_layout Standard
\begin_inset Graphics
	filename 009.png
	scale 50

\end_inset


\end_layout

\begin_layout Standard
Si tratta di un dispositivo passivo che suddivide diverse lunghezze d'onda
 provenienti da una fibra in differenti fibre.
\end_layout

\begin_layout Standard
È un dispositivo 
\series bold
bidirezionale.
\end_layout

\begin_layout Standard
\begin_inset Graphics
	filename 010.png
	scale 50

\end_inset


\end_layout

\begin_layout Standard
Per collegare 
\begin_inset Formula $n$
\end_inset

 utenti sono necessarie 
\begin_inset Formula $2n$
\end_inset

 lunghezze d'onda, una per l'uplink e una per downlink per ogni utente.
\end_layout

\begin_layout Standard
Utilizzando fibre basate su WDM-PON si può condividere la stessa fibra tra
 più operatori.
\end_layout

\begin_layout Standard
\begin_inset Graphics
	filename 011.png
	scale 50

\end_inset


\end_layout

\begin_layout Subsection*
Situazione attuale delle reti NGAN
\end_layout

\begin_layout Itemize
Definizione di 
\series bold
banda larga
\series default
:
\end_layout

\begin_deeper
\begin_layout Itemize
La raccomandazione ITU-T I.113 definisce la banda larga come un 
\begin_inset Quotes eld
\end_inset


\series bold
collegamento con velocità superiore a quella di ISDN (Integrated Services
 Digital Network) a 1.5 o 2.0 Mbit/s
\series default

\begin_inset Quotes erd
\end_inset


\end_layout

\begin_layout Itemize
La FCC definisce 
\end_layout

\begin_deeper
\begin_layout Itemize
Broadband: 200 kbit/s in una direzione
\end_layout

\begin_layout Itemize
Advanced broadband: almeno 200 kbit/s in entrambe le direzioni
\end_layout

\end_deeper
\begin_layout Itemize
La commissione europea definisce la banda larga come: capacità di downstream
 superiore a 144 kbit/s
\end_layout

\end_deeper
\begin_layout Itemize
Definizione di 
\series bold
Ultra Large Bandwidth
\series default
 (
\series bold
ULB
\series default
):
\end_layout

\begin_deeper
\begin_layout Itemize
È definita come il la banda 
\series bold
di picco
\series default
 superiore a 30 Mbit/s nella direzione di downstream, per un singolo utente.
\end_layout

\begin_layout Itemize
La vera capacità della linea (non di picco) può essere inferiore a causa
 delle policy per la concentrazione e shaping del traffico adottate dall'ISP.
\end_layout

\begin_layout Itemize
La ULB è definita in base alla capacità teorica della linea, poi bisogna
 vedere le scelte dell'ISP
\end_layout

\end_deeper
\begin_layout Subsubsection*
Sviluppo nei vari paesi
\end_layout

\begin_layout Itemize
In 
\series bold
Giappone
\series default
:
\end_layout

\begin_deeper
\begin_layout Itemize
Le soluzioni FTTH stanno aumentando, mentre diminuiscono quelle ADSL
\end_layout

\end_deeper
\begin_layout Itemize
In 
\series bold
America
\series default
:
\end_layout

\begin_deeper
\begin_layout Itemize
Le soluzioni FTTH stanno aumentando con un tasso di crescita molto elevato
\end_layout

\end_deeper
\begin_layout Subsubsection*
Ultra Large Bandwidth
\end_layout

\begin_layout Standard
Una strategia per lo sviluppo di una rete NGAN deve tenere conto di vari
 problemi economici.
\end_layout

\begin_layout Itemize
Gli investimenti richiesti per la rete NGAN, daranno realmente un miglioramento
 nei servizi forniti all'utente? Se sì, è conveniente sviluppare una rete
 NGAN?
\end_layout

\begin_layout Itemize
Nel caso delle utenze domestiche, si avranno dei miglioramenti tali da portare
 l'utente a spendere maggiormente? Solo un sottoinsieme della popolazione
 sarà interessato a pagare maggiormente per i servizi.
\end_layout

\begin_layout Itemize
NGAN aumenterà anche la velocità dei collegamenti P2P, quindi parte degli
 utenti potrebbe essere interessata per questo motivo.
 Infatti nei sistemi P2P il 
\begin_inset Quotes eld
\end_inset

ranking
\begin_inset Quotes erd
\end_inset

 dell'utente dipende soprattutto dalla capacità di acesso alla rete dell'utente!
\end_layout

\begin_layout Itemize
Quindi, è probabile che un aumento di velocità nei collegamenti crei nuova
 richiesta del servizio, in base al principio 
\begin_inset Quotes eld
\end_inset

nuove strade creno nuovo traffico
\begin_inset Quotes erd
\end_inset

.
\end_layout

\begin_layout Itemize
Inoltre gli utenti SOHO (
\emph on
Small Office Home Office
\emph default
) e SME (
\emph on
Small Medium Enterprise
\emph default
)
\emph on
 
\emph default
saranno potenzialmente interessati a migliorare i propri servizi.
\end_layout

\begin_layout Subsubsection*
Lo sviluppo delle reti NGAN
\end_layout

\begin_layout Standard
Tutte le varie soluzioni FTTx (FTTE,FTTC,...) richiedono infrastrutture costose.
\end_layout

\begin_layout Standard
La migrazione a una archiettura 100% FTTH richiede costi superiori a FTCC
 e FTTB ovviamente.
 Quindi gli operatori devono cercare un qualche tipo di 
\emph on
tradeoff
\emph default
 tra performance e costi.
\end_layout

\begin_layout Standard
In alcuni paesi comunuque, tipo in Italia, la differenza tra una migrazione
 FTTC/FTTB e FTTH non è così alta.
\end_layout

\begin_layout Standard
Questo dipende dallo stato attuale della rete di distribuzione, dalla popolazion
e, dalla struttura geografica e territorio nazionale.
\end_layout

\begin_layout Itemize
FTTH può richiedere fino a 5 volte costi maggiori rispetto a FTTC
\end_layout

\begin_layout Itemize
FTTH PTP può richiedere il 10% in più di investimento rispetto a FTTH PON.
\end_layout

\begin_layout Itemize
Le principali spese sono: cablaggio e scavi nelle strade.
\end_layout

\begin_layout Itemize
Un problema importante è replicare l'infrastruttura per permettere la condivisio
ne dei mezzi fisici da parte di più operatori.
 Questo è particolarmente vantaggioso nelle aree densamente popolate.
\end_layout

\begin_layout Standard
\begin_inset Graphics
	filename 012.png
	scale 30

\end_inset


\end_layout

\begin_layout Standard
La figura sopra mostra i dati relativi allo sviluppo di NGAN in UK per collegare
 tutta la popolazione (comparando FTTC/VDSL, FTTH/GPON, FTTH/PTP).
\end_layout

\begin_layout Itemize
FTTH/PTP offre performance migliori ma costi più elevati
\end_layout

\begin_layout Itemize
FTTH costa circa 5 volte di più di FTTC
\end_layout

\begin_layout Itemize
FTTH/PTP costa circa il 15% rispetto a FTTH/GPON
\end_layout

\begin_layout Itemize
Notiamo anche come i costi fissi (per costruire l'infrastruttura) sono molto
 più alti dei costi variabili (che sono invece i costi per attivare la connessio
ne dell'utente).
\end_layout

\begin_layout Itemize
Una strategia comune degli 
\emph on
Incumbent Operators
\emph default
 (gli operatori leader di mercato in un paese), è quella di costruire una
 infrastruttura FTTC come passo di transizione verso FTTH.
\end_layout

\begin_layout Subsubsection*
Sviluppo di NGAN in Italia
\end_layout

\begin_layout Standard
In Italia le soluzioni VDSL sono relativamente convenienti poiché la distanza
 dallo stadio di linea non è solitamente molto alta.
\end_layout

\begin_layout Standard
In Italia inoltre il 60% della popolazione vive in appartamenti in aree
 densamente popolate (mentre in UK solo il 15%!).
 Le due situazioni sono abbastanza diverse perché i costi di sviluppo per
 le aree urbane densamente popolate sono più bassi.
\end_layout

\begin_layout Subsubsection*
Sviluppo di NGAN e digital divide
\end_layout

\begin_layout Itemize
Il costo per utente crasce appena passiamo dagli utenti che vivono in aree
 metropolitane a utenti che vivono in aree rurali.
\end_layout

\begin_layout Itemize
Il costo per utente è 
\begin_inset Quotes eld
\end_inset

fisso
\begin_inset Quotes erd
\end_inset

 per il 60% della popolazione che vive in aree metropolitane, per il restante
 20-30% i costi salgono per raggiungere le aree rurali.
\end_layout

\begin_layout Itemize
Coprire il 100% della popolazione potrebbe non essere conveniente.
 Questo genererà però un nuovo 
\emph on
digital divide
\emph default
 tra gli utenti ULB e gli utenti con normale accesso LB.
\end_layout

\begin_layout Itemize
Ci si aspetta che questo nuovo 
\emph on
digital divide
\emph default
 possa essere risolto solo con fondi governativi, basati sull'idea di garantire
 uguale accesso a tutti.
\end_layout

\begin_layout Standard
Per esempio:
\end_layout

\begin_layout Itemize

\series bold
UK
\series default
: 
\end_layout

\begin_deeper
\begin_layout Itemize
Banda larga standard a tutti gli utenti entro la fine del 2012
\end_layout

\begin_layout Itemize
Accesso ULB al 90% degli utenti entro il 2017
\end_layout

\end_deeper
\begin_layout Itemize

\series bold
Francia
\end_layout

\begin_deeper
\begin_layout Itemize
Banda larga a 512 kbit/s a tutti gli utenti entro la fine del 2012
\end_layout

\end_deeper
\begin_layout Subsection*
Servizi consegnati tramite una rete NGAN
\end_layout

\begin_layout Standard
La migrazione tecnologica dalle reti attuali alle reti NGAN richiede un
 adattamento dei servizi che attualmente vengono forniti tramite una rete
 classica in rame.
\end_layout

\begin_layout Standard
I servizi possono essere emulati/simulati o sostituiti.
\end_layout

\begin_layout Standard
Partiamo classificando i tipi di servizi che ci interessano:
\end_layout

\begin_layout Itemize

\series bold
\emph on
Intermediate services
\series default
\emph default
: Servizi utilizzati internamente da un operatore o da più operatori.
\end_layout

\begin_deeper
\begin_layout Itemize
Un esempio classico di questo è l'insieme di servizi per il collegamento
 delle antenne radiomobili (GSM/UMTS/LTE) al core della rete.
\end_layout

\begin_layout Itemize
Questo tipo di collegamento è chiamato 
\begin_inset Quotes eld
\end_inset


\emph on
backhauling connection
\emph default

\begin_inset Quotes erd
\end_inset

.
 Il problema di questi collegamenti non è la migrazione da rame a fibra.
 Il problema è che questi collegamenti lavorano su linee E1 (E1 è un segnale
 che lavora a 2.048 Mbps su rame o fibra).
 Questi segnali E1 è un segnale molto piccolo in banda e che deve essere
 precisamente sincronizzato.
 Inoltre questa linea non trasmette pacchetti ma stream di bit.
 Il problema è che se convertiamo la trasmissione da uno stream di bit in
 pacchetti IP perdiamo la sincronia (che viene sfruttata per diverse operazioni).
\end_layout

\end_deeper
\begin_layout Itemize

\series bold
\emph on
Wholesale services
\series default
\emph default
:
\series bold
\emph on
 
\series default
\emph default
da operatori per altri operatori.
 Tra questi servizi c'è 
\emph on
colocation
\emph default
 (far ospitare dei propri apparati nelle infrastrutture di altri) e 
\emph on
unbundling
\emph default
.
\end_layout

\begin_layout Itemize

\series bold
\emph on
Retail services
\series default
\emph default
: Sono i servizi per gli utenti finali.
\end_layout

\begin_layout Subsubsection*
Intermediate services
\end_layout

\begin_layout Standard
Un tipico esempio di questi servizi, come abbiamo già detto, è il collegamento
 di antenne radiomobili (GSM/UMTS/LTE) al core della rete.
\end_layout

\begin_layout Standard
In questo esempio specifico la tecnologia 
\emph on
pseudowire
\emph default
 potrebbe essere utilizzata come soluzione al problema.
 Un'altra possibilità è di utilizzare 
\emph on
Syncronous Ethernet
\emph default
.
\end_layout

\begin_layout Standard
Tutt'oggi gli operatori hanno questo problema e una delle soluzioni è di
 tenere un collegamento in fibra ottica affiancato da una linea E1 utilizzata
 unicamente per il sincronismo.
\end_layout

\begin_layout Standard
Un'altra soluzione al problema è di utilizzare dei ricevitori GPS per il
 sincronismo, però il sistema GPS è sotto il controllo del dipartimento
 della difesa americano, che può spegnerlo in qualunque momento.
\end_layout

\begin_layout Subsubsection*
Wholesale services
\end_layout

\begin_layout Standard
Un servizio di tipo 
\emph on
wholesale
\emph default
 può essere all'interno di tre categorie principali:
\end_layout

\begin_layout Itemize

\series bold
Bitstream access
\series default
:
\end_layout

\begin_deeper
\begin_layout Itemize
Da un punto di vista tecnico i servizi bitstream non generano problemi,
 il NGAN può offrire accesso a larga banda customizzabile.
 Solitamente per gli utenti business.
\end_layout

\begin_layout Itemize
La qualità del servizio (QoS) può essere differenziata almeno per i livello
 di priorità, per esempio con 802.1p
\end_layout

\begin_layout Itemize
Offrire diverse QoS tramite NGAN permette di condividere l'infrastruttura
 in modo intelligente per più applicazioni.
\end_layout

\end_deeper
\begin_layout Itemize

\series bold
Wholesale Line Rental
\end_layout

\begin_deeper
\begin_layout Itemize
Il servizio classico di affitto di una linea può essere sostituito con una
 condivisione basata su trasmissione a pacchetti.
 
\end_layout

\begin_layout Itemize
Abbiamo anche qua però il problema di gestire il sincronismo
\end_layout

\end_deeper
\begin_layout Itemize

\series bold
Individual Line Rental
\end_layout

\begin_layout Itemize

\series bold
Unbundling 
\series default
e 
\series bold
colocation
\end_layout

\begin_deeper
\begin_layout Itemize
Solo i grossi operatori possono sostenere gli investimenti necessari per
 passare ad una rete NGAN.
 Permettere che anche i piccoli operatori possano competere è un problema.
\end_layout

\begin_layout Itemize
Per l'operatore 
\emph on
incumbent
\emph default
, la migrazione a NGAN porta alla rimozione dei 
\emph on
local exchange offices
\emph default
 (stadio di linea).
 Il problema è che queste strutture sono massicciamente utilizzate per la
 
\emph on
colocation
\emph default
 delle apparecchiature dei concorrenti, per implementare 
\emph on
unbundling 
\emph default
del 
\emph on
Local Loop
\emph default
 (ULL).
\end_layout

\begin_layout Itemize
In alcuni paesi come soluzione si lascia un po' di tempo (~5 anni) agli
 operatori per accordarsi su cosa fare.
\end_layout

\begin_layout Itemize
Un operatore in 
\emph on
colocation
\emph default
 può trasferire gli 
\emph on
unbundling 
\emph default
in altre locazioni oppure può realizzare dei 
\emph on
sub-loop unbundle 
\emph default
all'interno degli armadi stradali (solo nel caso FTTC).
\end_layout

\end_deeper
\begin_layout Subsubsection*
Reti di accesso metropolitane e rete di backbone
\end_layout

\begin_layout Standard
NGAN è riferito soltanto alla parte di accesso alla rete, in realtà il component
e centrale della rete dell'operatore è costituito dalla rete backbone nazionali
 o metropolitane.
\end_layout

\begin_layout Standard
Un possibile (non l'unica) soluzione architetturale è quella di operare
 a livello IP nella rete di accesso e backbone, mentre a livello Ethernet
 nella rete metropolitana, come mostrato in figura:
\end_layout

\begin_layout Standard
\begin_inset Graphics
	filename 013.png
	scale 30

\end_inset


\end_layout

\begin_layout Standard
La differenziazione della qualità del servizio è una questione abbastanza
 critica in questo caso.
\end_layout

\begin_layout Itemize
Nelle reti metropolitane il QoS può essere realizzato utilizzando più 
\series bold
VLANs IEEE 802.11q
\series default
 oppure 
\series bold
IEEE 802.1ad
\end_layout

\begin_layout Itemize
IEEE 802.1q differenzia la priorità all'interno delle VLAN tramite un campo
 di priorità inserito nel frame Ethernet.
 IEEE 802.1p è la reference che specifica il significato dei bit di priorità
 nel campo priorità di 802.1q
\end_layout

\begin_layout Itemize
Utilizzando 802.1q è possibile definire fino a 4096 VLAN differenti
\end_layout

\begin_layout Itemize
Con IEEE 802.1ad è possibile definire delle VLAN 802.1Q 
\begin_inset Quotes eld
\end_inset

stacked
\begin_inset Quotes erd
\end_inset

, cioè delle VLAN all'interno di una singola VLAN.
 Con questo metodo si può arrivare fino a 16'777'216 VLAN.
\end_layout

\begin_layout Itemize
La divisione delle VLAN potrebbe non essere così semplice.
 L'operatore potrebbe decidere di utilizzare alcune VLAN per operazioni
 di servizio: distizione tra 
\emph on
Customer VLANs 
\emph default
(
\series bold
C-VLAN
\series default
) e 
\emph on
Service VLANs
\emph default
 (
\series bold
S-VLAN
\series default
).
\end_layout

\begin_layout Itemize
Nelle reti metropolitane è spesso utilizato anche 
\series bold
MPLS
\series default
 (
\emph on
MultiProtocol Label Switching
\emph default
) 
\end_layout

\begin_deeper
\begin_layout Itemize
Un interessante feature di MPLS è la gestione del multicasting, che evita
 di replicare dei flussi identici.
 È utile per la distribuzione di contenuti audio/video.
\end_layout

\begin_layout Itemize
Per contrasto, nelle reti basate su VLAN Ethernet si replicano per forza
 tutti i flussi anche identici.
\end_layout

\end_deeper
\begin_layout Subsection*
Servizi multimediali IP nelle reti NGN
\end_layout

\begin_layout Standard
ETSI (
\emph on
European Telecommunications Standards Institute
\emph default
) ha creato un gruppo di lavoro chiamato 
\series bold
TISPAN
\series default
 (
\emph on
Telecommunications and Internet converged Services and Protocols for Advanced
 Networking
\emph default
) ha già definito diversi standard per le reti NGN.
 Una parte rilevante di questi standard copre i problemi relativi all'interconne
ssioni di diverse reti NGN di diversi operatori.
\end_layout

\begin_layout Standard
I requisiti 
\begin_inset Quotes eld
\end_inset

ad alto livello
\begin_inset Quotes erd
\end_inset

 sono:
\end_layout

\begin_layout Itemize
Il QoS deve essere negoziato sia al momento di instaurazione della connessione,
 sia quando la connessione è già stabilita.
\end_layout

\begin_layout Itemize
La negoziazione del QoS deve essere abilitata anche nel caso di 
\emph on
roaming
\emph default
 tra diversi operatori.
\end_layout

\begin_layout Itemize
Le sessioni multimediali IP devono supportare un vasto tipo di codecs audio
 e video.
\end_layout

\begin_layout Itemize
I servizi multimediali IP devono, il più possibile, essere forniti a una
 varietà di tecnologie di accesso (UTRAN, WiMAX, ...)
\end_layout

\begin_layout Standard
\begin_inset Graphics
	filename 014.png
	scale 30

\end_inset


\end_layout

\begin_layout Standard
Questa figura mostra la suddivisione logica tra i livelli di servizio e
 i livello di trasporto nelle NGN:
\end_layout

\begin_layout Itemize

\series bold
NGN Access Network Provider (NANP)
\series default
: concentra il traffico proveniente da più linee attraverso uno o più NGN
 Connectivity Providers.
\end_layout

\begin_layout Itemize

\series bold
NGN Connectivity Provider (NCP)
\series default
: fornisce la connettività al NGN Core Network Provider.
\end_layout

\begin_layout Itemize

\series bold
NGN Core Network Provider (NCNP)
\series default
: aggrega il traffico proveniente dai nodi estermi di diverse reti di accesso,
 verso diverse reti esterne.
\end_layout

\begin_layout Itemize

\series bold
NGN Service Provider (NSP)
\series default
: Si occupa dei servizi necessari al trasporto sulla NGN: autenticazione,
 service control, management, pagamenti.
 Nel caso dei servizi IPTV si occupa anche dei diritti d'autore (DRM).
\end_layout

\begin_layout Standard
Due operatori NGN interconnessi offrono dei servizi 
\emph on
end-to-end
\emph default
.
 La qualità del servizio deve essere garantita anche per collegamenti 
\emph on
end-to-end
\emph default
 tramite cooperazione tra gli operatori.
 Un esempio è Carrier-grade VoIP services.
\end_layout

\begin_layout Standard
TISPAN identifica la emulazione/sostituzione dei servizi PSTN/ISDN come
 punto chiave.
\end_layout

\begin_layout Standard
Con l'emulazione del servizio, un nuovo servizio è fornito tramite NGN con
 le stesse caratteristiche del vecchio servizio.
\end_layout

\begin_layout Standard
Per 
\begin_inset Quotes eld
\end_inset

sostituzione
\begin_inset Quotes erd
\end_inset

 si intende che alcune caratteristiche del servizio potrebbero cambiare.
\end_layout

\begin_layout Subsubsection*
Requisiti base per i servizi classici PSTN/ISDN
\end_layout

\begin_layout Itemize
Gestione della numerazione preservata
\end_layout

\begin_layout Itemize
Intercettazioni legali devono essere garantite
\end_layout

\begin_layout Itemize
I servizi di emergenza devono essere garantiti
\end_layout

\begin_layout Itemize
Il servizio 
\emph on
Malicious Call Identification
\emph default
 (MCID) deve essere garantito
\end_layout

\begin_layout Itemize
Il servizio 
\emph on
Anonymous Call Rejection
\emph default
 (ACR) deve essere garantito
\end_layout

\begin_layout Itemize
L'interoperabilità con il vecchio sistema deve essere garantita
\end_layout

\begin_layout Standard
Ci sono due categorie base in cui viene suddiviso il sistema telefonico:
\end_layout

\begin_layout Itemize
Servizi telefonici pubblici (PATS): È il servizio per mappare il servizio
 classico PSTN/ISDN e ha più stretti requisiti rispetto a ECS
\end_layout

\begin_layout Itemize
Electronic Communication Service, ECS
\end_layout

\begin_layout Standard
L'emulazione del servizio classico PSTN/ISDN è solitamente chiamato 
\series bold
ToIP
\series default
 (Telephony over IP), per distinguerlo da servizi ECS come VoIN (Voice over
 Internet).
\end_layout

\begin_layout Itemize
Nel servizio VoIN, solitamente gli operatori non controllano il servizio
 e non garantiscono QoS.
\end_layout

\begin_layout Itemize
Tipicamente i servizi VoIN sono la telefonia P2P come Skype o altri.
\end_layout

\begin_layout Itemize
Il servizio VoIN In&Out permette agli utenti di interconnettersi tramite
 reti esterne come PSTN/PLMN
\end_layout

\begin_layout Standard
\begin_inset Graphics
	filename 015.png
	scale 30

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Tabular
<lyxtabular version="3" rows="4" columns="3">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Chiamate a PSTN e PLMN
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Servizi addizionali (chiamate di emergenza, portabiltà numero, ...)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
VoIN P2P
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
no
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
no
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
VoIN In&Out
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
sì
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
sì (ma non completamente)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
ToIP
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
sì
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
sì
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Subsection*
Interconnessione di reti NGN
\end_layout

\begin_layout Standard
La interconnessione tra NGN è definita dallo standard ETSI/TISPAN di cui
 abbiamo già parlato.
\end_layout

\begin_layout Standard
In base a questi standard, l'interconnessione può essere effettuata mediante:
\end_layout

\begin_layout Itemize

\emph on
Service-Oriented Interconnection 
\emph default
(
\series bold
SoIx
\series default
)
\end_layout

\begin_layout Itemize

\emph on
Connectivity-Oriented Interconnection 
\emph default
(
\series bold
CoIx
\series default
)
\end_layout

\begin_layout Standard

\series bold
SoIx
\series default
 opera a livello a livello 
\emph on
service
\emph default
, mentre 
\series bold
CoIx 
\series default
opera a livello di trasporto.
\end_layout

\begin_layout Itemize

\series bold
SoIx
\series default
 è la interconnessione fisica e logica tra due diversi domini di due diversi
 operatori NGN.
 Permette agli operatori di offrire dei servizi con QoS 
\emph on
end-to-end
\emph default
.
\end_layout

\begin_layout Itemize

\series bold
CoIx
\series default
 opera invece a livello IP, senza considerare QoS in stile 
\emph on
end-to-end
\emph default
.
 Può garantire solo requisiti di servizio a livello IP.
\end_layout

\begin_layout Subsubsection*
Funzionalità di interconnessione
\end_layout

\begin_layout Itemize
Riguardo alla interconnessione di diversi sistemi ToIP la funzione 
\series bold
\emph on
InterWorking Function 
\series default
\emph default
(
\series bold
IWF
\series default
) permette l'interconnessione tra diversi protocolli come SIP (
\emph on
Session Initiation Protocol
\emph default
) e ISUP (
\emph on
Integrated Services User Part
\emph default
)
\end_layout

\begin_layout Itemize
La 
\series bold
\emph on
Border Gateway Function 
\series default
\emph default
(
\series bold
BGF
\series default
) separa i due domini amministrativi permettendo QoS, sicurezza, tracciamento
 delle chiamate, log del traffico.
\end_layout

\begin_layout Itemize
La funzione di 
\series bold
\emph on
Resource and Admission Control Subsystem
\series default
\emph default
 (
\series bold
RACS
\series default
) controlla l'utilizzo di risorse a livello IP ed è resposabile del QoS
 a livello IP.
\end_layout

\begin_layout Standard
\begin_inset Graphics
	filename 016.png
	scale 40

\end_inset


\end_layout

\begin_layout Standard
La interconnessione di tipo CoIx permette agli operatori di fornire ai propri
 clienti la connettività necessaria per raggiungere le reti esterne.
 
\end_layout

\begin_layout Standard
Un esempio di interconnessione CoIx tipico è il peering IP.
\end_layout

\begin_layout Standard
\begin_inset Tabular
<lyxtabular version="3" rows="16" columns="4">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
\emph on
Interconnection service
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
\emph on
Definizione
\end_layout

\end_inset
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
\emph on
Esempi di applicazione
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="3" alignment="center" valignment="middle" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Termination
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Richieste di servizio originate
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Terminazione telefonica, 
\end_layout

\end_inset
</cell>
<cell multirow="3" alignment="center" valignment="middle" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
N.A.
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
dal lato OLO/SP e terminate a clienti 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
video streaming, sistemi di
\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
dell'operatore interconnesso
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
messaggistica
\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="3" alignment="center" valignment="middle" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Collection
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Le richieste di servizio da parte degli
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Comunicazione con numeri 
\end_layout

\end_inset
</cell>
<cell multirow="3" alignment="center" valignment="middle" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
N.A.
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
utenti sono inoltrate all'OLO/SP
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
non geografici,carrier-selection e
\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
 carrier-preselection
\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="3" alignment="center" valignment="middle" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Transit
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Le richieste di servizio da parte dell'
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Transito della telefonia
\end_layout

\end_inset
</cell>
<cell multirow="3" alignment="center" valignment="middle" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
N.A.
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
OLO/SP sono inoltrate nella rete
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
 e video telefonia
\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="3" alignment="center" valignment="middle" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
IP transit
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Traffico IP dell'OLO/SP inoltrato sulla
\end_layout

\end_inset
</cell>
<cell multirow="3" alignment="center" valignment="middle" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
N.A.
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Transito IP verso
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
rete dell'operatore interconnesso
\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
domini di peering
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="3" alignment="center" valignment="middle" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
Access
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Il traffico IP dei clienti è inoltrato
\end_layout

\end_inset
</cell>
<cell multirow="3" alignment="center" valignment="middle" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
N.A.
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Bitstream,
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
all'OLO/SP
\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Linee in affitto
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="3" alignment="center" valignment="middle" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series bold
IP transport
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Traffico IP dell'OLO/SP tra due punti
\end_layout

\end_inset
</cell>
<cell multirow="3" alignment="center" valignment="middle" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
N.A.
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Linee in affitto
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
remoti che transitano sulla rete
\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Interconnessioni
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
dell'operatore interconnesso
\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
VPN
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Subsubsection*
Requisiti SoIx
\end_layout

\begin_layout Standard
\begin_inset Graphics
	filename 017.png
	scale 50

\end_inset


\end_layout

\begin_layout Itemize

\series bold
Requisiti per il signaling
\series default
: Interoperabilità del signaling e identificazione del servizio
\end_layout

\begin_layout Itemize

\series bold
Requisiti per i codecs
\series default
: Un insieme di codecs devono essere supportati, almeno G.711,AMR, G.729A,
 EVCR.
 La selezione automatica dei codecs deve essere abilitata.
 Deve essere possibile per il sistema utilizzare il codec a più bassa qualità
\end_layout

\begin_layout Itemize

\series bold
Codecs video
\series default
: H.263 e H.264
\end_layout

\begin_layout Itemize

\series bold
Routing
\series default
: Il routing basato sul servizio deve essere supportato
\end_layout

\begin_layout Itemize

\series bold
Security
\series default
: Intercettazioni legali, autorizzazione, autenticazione, access control,
 integrità dei dati, privacy
\end_layout

\begin_layout Itemize

\series bold
Billing e accounting
\series default
: Logs, report del traffico, generazione conti e controllo consumi (
\emph on
Charing Data Record 
\series bold
\emph default
CDR
\series default
)
\end_layout

\begin_layout Itemize

\series bold
QoS & SLA
\series default
: Prenotazione di risorse per sessioni QoS
\end_layout

\begin_layout Itemize

\series bold
Connection Admission Control
\end_layout

\begin_layout Section*
Multimedia Streaming
\end_layout

\begin_layout Standard
Per 
\emph on
Media Streaming
\emph default
 si intende la distribuzione di contenuti audio/video, solitamente sincronizzati.
\end_layout

\begin_layout Standard
La funzionalità base del media streaming è che il contenuto viene utilizzato
 
\series bold
mentre è trasferito sulla rete
\series default
, invece di scaricare e poi riprodurre in un secondo momento.
 Questa è la principale differenza tra i normali servizi di file sharing
 e il media streaming.
\end_layout

\begin_layout Subsection*
Codecs
\end_layout

\begin_layout Standard
I codecs audio e video svolgono un ruolo importante nel media streaming.
\end_layout

\begin_layout Itemize
Alcuni codecs forniscono solo una velocità di trasmissione, con 
\emph on
layered codecs 
\emph default
e i 
\emph on
multi-description codecs 
\emph default
è possibile scegliere diverse velocità di trasmissione che corrispondono
 solitamente a diverse qualità dei contenuti audio/video.
\end_layout

\begin_layout Itemize
I codecs di tipo 
\series bold
\emph on
layered
\series default
\emph default
 suddividono uno stream in un insieme di 
\emph on
substreams
\emph default
 separati chiamati 
\series bold
\emph on
layers
\series default
\emph default
.
\end_layout

\begin_layout Itemize
L'utente deve essere in grado di ricevere almeno il layer più basso per
 poter iniziare la riproduzione
\end_layout

\begin_layout Itemize
Aggiungere layer sopra a quello base aumenta la qualità, se l'utente ha
 la banda necessaria per scaricarli.
\end_layout

\begin_layout Itemize
I codecs 
\emph on
layered 
\emph default
sono quindi migliori perchè il contenuto multimediale si può 
\begin_inset Quotes eld
\end_inset

adattare
\begin_inset Quotes erd
\end_inset

 alle risorse dell'utente.
\end_layout

\begin_layout Itemize
Lo svantaggio è che a parità di qualità, i codecs layered consumano più
 banda.
\end_layout

\begin_layout Subsection*
Costi per la comunicazione
\end_layout

\begin_layout Itemize
I costi per il trasporto di contenuti multimediali a livello di provider
 sono un problema da tenere in considerazione
\end_layout

\begin_layout Itemize
I costi possono essere molto variabili.
 Un'idea ragionevole è che la trasmissione di un film medio compresso con
 MPEG2 a 5Mbit/s non deve costare più di 1$.
\end_layout

\begin_layout Itemize
Per ridurre i costi del trasporto possono essere adottate una serie di soluzioni
, tra cui il 
\emph on
caching
\emph default
.
\end_layout

\begin_layout Itemize
Anche il 
\series bold
multicast
\series default
 è una soluzione efficiente, anche se non viene spesso utilizzata dai providers
 a causa della difficoltà di gestione.
 Spesso è più comodo sfruttare MPLS per fare multicasting.
\end_layout

\begin_layout Subsection*
Media Streaming
\end_layout

\begin_layout Standard
Un servizio per la distribuzione di contenuti multimediali può utilizzare
 una tecnologia di trasporto seguendo due stili:
\end_layout

\begin_layout Itemize

\series bold
Pull
\series default
: L'utente sceglie e richiede esplicitamente un contenuto specifico.
\end_layout

\begin_layout Itemize

\series bold
Push
\series default
: I contenuti sono forniti, tramite un canale di distribuzione, in base
 ad una certa pianificazione
\end_layout

\begin_layout Standard
Un altro modo per caratterizzare i servizi di media streaming è tramite
 la loro dipendenza dal ritardo:
\end_layout

\begin_layout Itemize

\series bold
Live events
\series default
: Per esempio una partita di calcio, richiede di riuscire a garantire un
 ritardo massimo dello stream nell'ordine di 1 secondo.
\end_layout

\begin_layout Itemize

\series bold
Eventi non live
\series default
: Ad esempio un film.
 Il ritardo anche di qualche secondo è ammesso.
\end_layout

\begin_layout Subsubsection*
Playout buffer
\end_layout

\begin_layout Standard
Nel client dell'utente finale, una parte del contenuto multimediale viene
 accumulato in un buffer di playout prima di essere riprodotto.
\end_layout

\begin_layout Itemize
Il buffer di playout compensa la variazione di velocità della rete.
\end_layout

\begin_layout Itemize
Maggiore è la dimensione del buffer, minore diventa la frequenza dei buffer
 underflows, che degradano la qualità video.
\end_layout

\begin_layout Itemize
Tuttavia, più aumentiamo la dimensione del buffer, più aumentiamo il delay
 complessivo dello stream e il delay iniziale di riproduzione.
\end_layout

\begin_layout Itemize
Quindi è necessario trovare un tradeoff sulla dimensione di questo buffer.
 Questo tradeoff varia solitamente a seconda del tipo di contenuto (push/pull,
 live/non live).
\end_layout

\begin_layout Subsubsection*
Streaming unicast
\end_layout

\begin_layout Standard
Unicast streaming significa la trasmissione di un contenuto multimediale
 con un approccio classico 
\emph on
client-server
\emph default
.
\end_layout

\begin_layout Standard
\begin_inset Graphics
	filename 018.png
	scale 30

\end_inset


\end_layout

\begin_layout Standard
Almeno 
\series bold
due flussi 
\series default
vengono stabiliti tra il client e il server.
 In uno viene inviato il contenuto multimediale, nell'altro viene fatto
 
\emph on
signaling
\emph default
 per scambiare dei 
\emph on
feedback
\emph default
 sulla qualità.
\end_layout

\begin_layout Standard
Per aumentare le performance è possibile mettere dei server periferici (dei
 proxy) e poi distribuire i contenuti dai proxy verso l'utente finale.
 Questo è quello che fanno sostanzialmente i CDN (
\emph on
Content Delivery Network
\emph default
).
\end_layout

\begin_layout Standard
\begin_inset Graphics
	filename 019.png
	scale 30

\end_inset


\end_layout

\begin_layout Standard
La distribuzione dei contenuti verso i proxy è solitamente fatta tramite
 ftp o ftps.
\end_layout

\begin_layout Subsubsection*
Streaming Multicast
\end_layout

\begin_layout Standard
Il 
\emph on
multicasting
\emph default
 è un modo molto efficiacie per distribuire lo stesso contenuto a più utenti
 senza replicare i flussi.
\end_layout

\begin_layout Itemize
Il 
\series bold
problema
\series default
 basilare è che IP fornisce solo delle primitive per capacità di multicasting,
 insufficienti per fornire una distribuzione scalabile dei contenuti.
 
\begin_inset Note Note
status open

\begin_layout Plain Layout
Perché?
\end_layout

\end_inset


\end_layout

\begin_layout Itemize
Tecnologie come MPLS sono piuttosto efficaci per implementare il multicasting
 a livello superiore, aggregando i flussi identici.
\end_layout

\begin_layout Itemize
Nei sistemi P2P il multicasting è effettuato a livello di overlay, a livello
 7.
\end_layout

\begin_layout Subsubsection*
Real Time Streaming Protocol 
\end_layout

\begin_layout Standard

\emph on
Real Time Streaming Protocol
\emph default
 (
\series bold
RTSP
\series default
) è un protocollo 
\emph on
client-server
\emph default
 per la distribuzione di contenuti multimediali su reti IP.
\end_layout

\begin_layout Standard
RTSP è stato inizialmente sviluppato da 
\emph on
Progressive Networks
\emph default
, 
\emph on
Netscape Communications 
\emph default
e 
\emph on
Columbia University
\emph default
 in modo congiunto.
\end_layout

\begin_layout Standard

\series bold
RTSP può interoperare
\series default
 con popolari protocolli media-related di Internet:
\end_layout

\begin_layout Itemize

\emph on
Real Time Protocol 
\emph default
(
\series bold
RTP
\series default
) e 
\emph on
Real Time Control Protocol
\emph default
 (
\series bold
RTCP
\series default
)
\end_layout

\begin_layout Itemize

\emph on
ReSerVation Protocol
\emph default
 (
\series bold
RSVP
\series default
)
\end_layout

\begin_layout Itemize

\emph on
HyperText Transfer Protocol 
\emph default
(
\series bold
HTTP
\series default
)
\end_layout

\begin_layout Itemize

\emph on
Session Description Protocol
\emph default
 (
\series bold
SDP
\series default
)
\end_layout

\begin_layout Standard
RTSP fornisce all'utente una serie di comandi per controllare la riproduzione
 di un video:
\end_layout

\begin_layout Itemize

\series bold
Start
\end_layout

\begin_layout Itemize

\series bold
Pause
\end_layout

\begin_layout Itemize

\series bold
Jump
\end_layout

\begin_layout Itemize

\series bold
Fast forward
\end_layout

\begin_layout Itemize

\series bold
Fast reverse
\end_layout

\begin_layout Standard
Solitamente lato server abbiamo un media server e un web server dove l'utente
 può scegliere il contenuto da riprodurre.
 L'utente tramite HTTP può ottenere l' 
\series bold
SDP
\series default
 (
\emph on
Session Description Protocol
\emph default
) la descrizione della sessione.
\end_layout

\begin_layout Standard
\begin_inset Graphics
	filename 020.png
	scale 30

\end_inset


\end_layout

\begin_layout Subsubsection*
Esempio: Comunicazione con il webserver
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "basicstyle={\ttfamily}"
inline false
status open

\begin_layout Plain Layout

GET /Mission_to_Mars.sdp HTTP/1.1
\end_layout

\begin_layout Plain Layout

Host: www.movieinfo.com
\end_layout

\begin_layout Plain Layout

Accept: application/sdp
\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

HTTP/1.1 200 OK
\end_layout

\begin_layout Plain Layout

Content-Type: application/sdp
\end_layout

\begin_layout Plain Layout

V=0
\end_layout

\begin_layout Plain Layout

O=2890844526 2890842807 IN IP4 192.16.24.202
\end_layout

\begin_layout Plain Layout

S=RTSP session
\end_layout

\begin_layout Plain Layout

M=audio 0 RTP/AVP 0
\end_layout

\begin_layout Plain Layout

A=control:rtsp://audio.source.com/Mission_to_Mars/audio
\end_layout

\begin_layout Plain Layout

M=video 0 RTP/AVP 32
\end_layout

\begin_layout Plain Layout

A=control:rstp://video.source.com/Mission_to_Mars/video 
\end_layout

\end_inset


\end_layout

\begin_layout Subsubsection*
Esempio RTSP: Setup audio/video server
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "basicstyle={\ttfamily}"
inline false
status open

\begin_layout Plain Layout

//client to audio server 
\end_layout

\begin_layout Plain Layout

SETUP rtsp://audio.source.com/Mission_to_Mars/audio RTSP/1.0
\end_layout

\begin_layout Plain Layout

CSeq:1 
\end_layout

\begin_layout Plain Layout

Transport: RTP/AVP/UDP;unicast;client_port=3056-3057
\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

//audio server to client 
\end_layout

\begin_layout Plain Layout

RTSP/1.0 200 OK
\end_layout

\begin_layout Plain Layout

CSeq:1
\end_layout

\begin_layout Plain Layout

Session: 12345678
\end_layout

\begin_layout Plain Layout

Transport: RTP/AVP/UDP;unicast;client_port=3056-3057;server_port=5000-5001
\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

//client to video server
\end_layout

\begin_layout Plain Layout

SETUP rtsp://video.source.com/Mission_to_Mars/video RTSP/1.0
\end_layout

\begin_layout Plain Layout

CSeq:1 Transport: RTP/AVP/UDP;unicast;client_port=3058-3059
\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

//video server to client 
\end_layout

\begin_layout Plain Layout

RTSP/1.0 200 OK
\end_layout

\begin_layout Plain Layout

CSeq:1
\end_layout

\begin_layout Plain Layout

Session: 23456789
\end_layout

\begin_layout Plain Layout

Transport: RTP/AVP/UDP;unicast;client_port=3058-3059;server_port=5002-5003
 
\end_layout

\end_inset


\end_layout

\begin_layout Subsubsection*
Esempio RTSP: Play media
\end_layout

\begin_layout Standard
\begin_inset listings
lstparams "basicstyle={\ttfamily}"
inline false
status open

\begin_layout Plain Layout

//play instructions to servers 
\end_layout

\begin_layout Plain Layout

PLAY rtsp://video.source.com/Mission_to_Mars/video RTSP/1.0
\end_layout

\begin_layout Plain Layout

CSeq:2
\end_layout

\begin_layout Plain Layout

Session: 23456789 #range: smte=0:10:00-
\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

RTSP/1.0 200 OK
\end_layout

\begin_layout Plain Layout

CSeq:2 
\end_layout

\begin_layout Plain Layout

Session: 23456789 #range: smte=0:10:00-
\end_layout

\begin_layout Plain Layout

RTP-info: url=rstp://video.source.com/Mission_to_Mars/video;seq=123122322;rtptime=
78712811
\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

PLAY rtsp://audio.source.com/Mission_to_Mars/audio.it RTSP/1.0
\end_layout

\begin_layout Plain Layout

CSeq:2 
\end_layout

\begin_layout Plain Layout

Session: 12345678 #range: smte=0:10:00-
\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout

RTSP/1.0 200 OK
\end_layout

\begin_layout Plain Layout

CSeq:2
\end_layout

\begin_layout Plain Layout

Session: 12345678 #range: smte=0:10:00- 
\end_layout

\begin_layout Plain Layout

RTP-info: url=rstp://audio.source.com/Mission_to_Mars/audio.it;seq=876655;rtptime=1
0325465 
\end_layout

\end_inset


\end_layout

\begin_layout Subsection*
Sistemi per 
\emph on
Real Time Streaming
\end_layout

\begin_layout Standard
Negli anni 90' il 
\emph on
Video on Demand
\emph default
 era considerato una delle applicazioni più interessanti e con più successo
 per i collegamenti a banda larga.
 La previsione fu errata perché il problema di stabilire un servizio di
 
\emph on
video on demand
\emph default
 ha diversi problemi di business (non tecnologici).
\end_layout

\begin_layout Standard
Infatti fornire 
\emph on
video on demand
\emph default
 è molto costoso ed è difficile formare un modello di business dove i costi
 sono compensati dai guadagni ottenuti dai soldi che l'utente ha intenzione
 di spendere per un servizio del genere.
\end_layout

\begin_layout Standard
Dagli anni 90' in poi ci sono stati diversi sviluppi in vari campi:
\end_layout

\begin_layout Itemize
Sviluppo di nuovi codecs a basso rate 
\end_layout

\begin_layout Itemize
Server video più efficienti e più scalabili
\end_layout

\begin_layout Itemize
Accesso a banda larga per più utenti
\end_layout

\begin_layout Subsubsection*
Multimedia Servers
\end_layout

\begin_layout Standard
I server video multimediali devono memorizzare un grosso contenuto di dati,
 quindi è necessaria una grossa capacità di storage, nell'ordine dei diversi
 
\emph on
terabytes
\emph default
.
\end_layout

\begin_layout Standard
I server devono anche avere un accesso a banda molto larga per poter ricevere
 le richieste da parte di moltissimi utenti.
\end_layout

\begin_layout Itemize
L'efficienza sui costi per lo storage è un problema
\end_layout

\begin_layout Itemize
Le tecniche più comuni sono architetture di storage gerarchico, dove i contenuti
 ad alto rate sono memorizzati su dischi ottici o nastri, mentre gli hard
 disk e gli array di dischi vengono utilizzati per i contenuti richiesti
 da molti utenti.
 In questo caso lo 
\emph on
striping
\emph default
 è una tecnica adottata comunemente.
\end_layout

\begin_layout Subsubsection*
RAID
\end_layout

\begin_layout Standard
Significa 
\emph on
Redundant Array of Inexpensive Disks
\emph default
, è una architettura di storage efficiente dal punto di vista dei costi.
\end_layout

\begin_layout Standard
Un grosso numero di dischi a basso costo è utilizzato per raggiungere una
 quantità di spazio superiore.
\end_layout

\begin_layout Standard
Gli 
\series bold
\emph on
stripes
\series default
\emph default
 (chunk dello stesso media) sono salvati su dischi diversi.
\end_layout

\begin_layout Standard
Si riesce a distribuire i contenuti visualizzati da molti utenti ed evitare
 i colli di bottiglia su un unico disco.
\end_layout

\begin_layout Standard
\begin_inset Graphics
	filename 021.png
	scale 30

\end_inset


\end_layout

\begin_layout Subsubsection*
La 
\emph on
long tail
\emph default
 dei contenuti
\end_layout

\begin_layout Standard
\begin_inset Graphics
	filename 022.png
	scale 30

\end_inset


\end_layout

\begin_layout Standard

\emph on
Long Tail
\emph default
 è un termine che indica il fatto che alcuni produttori di contenuti multimedial
i 
\begin_inset Quotes eld
\end_inset

fisici
\begin_inset Quotes erd
\end_inset

 hanno pochi prodotti e molte vendite, mentre i rivenditori di contenuti
 digitali hanno solitamente tantissimi prodotti ma pochissime vendite (vedi
 figura).
\end_layout

\begin_layout Standard
Il modello di distribuzione basato sul web permette ai distributori di creare
 un catalogo infinito di contenuti, in contrasto con (ad esempio), un negozio
 di DVD dove lo spazio fisico è un problema.
\end_layout

\begin_layout Standard
Un altro esempio è l'evoluzione del mercato dei libri con l'avvento della
 vendita online.
\end_layout

\begin_layout Subsubsection*
YouTube
\end_layout

\begin_layout Standard
YouTube è il tipico esempio di un distributore 
\emph on
long-tailed
\emph default
 di contenuti digitali.
 YouTube fornisce sia contenuti ad alto che a basso bitrate.
 Il numero di contenuti forniti è virtualmente infinito.
 YouTube inoltre fornisce dei contenuti caricati dagli utenti, un business
 che non si può raggiungere con la vendita classica di contenuti multimediali.
\end_layout

\begin_layout Part*
Peer-To-Peer Systems
\end_layout

\begin_layout Subsection*
Caratteristiche dei sistemi P2P
\end_layout

\begin_layout Itemize

\series bold
Vantaggi
\end_layout

\begin_deeper
\begin_layout Itemize
Sono basati sua una infrastruttura di rete che non è centralizzata, i vari
 peer comunicano tra di loro invece che con un server centrale.
 Questo permette di scalare il sistema a milioni di utenti senza problemi
 sull'infrastruttura.
\end_layout

\begin_layout Itemize
Permettono una migliore gestione della banda disponibile, che non è possibile
 con il modello 
\emph on
client/server
\emph default
 che genera rallentamenti all'aumentare dei clients.
\end_layout

\begin_layout Itemize
Non c'è necessità di amministrare il sistema.
 Il sistema di autoregola.
 È un sistema tollerante ai guasti perché nessun nodo è indispensabile al
 funzionamento dell'architettura.
\end_layout

\end_deeper
\begin_layout Itemize

\series bold
Svantaggi
\end_layout

\begin_deeper
\begin_layout Itemize
Non è sempre facile effettuare l'operazione di ricerca, quindi bisogna sempre
 sviluppare sistemi di ricerca leggermente complessi nelle reti P2P
\end_layout

\begin_layout Itemize
La diffusione del materiale DRM, coperto da copyright è un problema.
\end_layout

\begin_layout Itemize
La banda disponibile in upload per i peers può essere il collo di bottiglia
 del sistema.
\end_layout

\end_deeper
\begin_layout Itemize

\series bold
Caratteristiche
\end_layout

\begin_deeper
\begin_layout Itemize
I sistemi P2P sono suddivisi in un 
\series bold
\emph on
overlay
\series default
\emph default
 e un 
\series bold
\emph on
underlay
\series default
\emph default
.
\end_layout

\begin_layout Itemize
Solitamente l'
\emph on
underlay
\emph default
 è Internet e la rete di 
\emph on
overlay
\emph default
 è creata dal sistema che si occupa di collegare tra di loro vari peer.
 
\end_layout

\begin_layout Itemize
Nella rete di 
\emph on
overlay
\emph default
 possiamo quindi costruire delle topologie di rete complesse, anche ad albero
 per esempio.
\end_layout

\begin_layout Itemize
Si può implementare il 
\series bold
multicast
\series default
 a livello di 
\emph on
overlay
\emph default
.
\end_layout

\begin_layout Itemize
I sistemi P2P spesso utilizzano le 
\series bold
\emph on
Distributed Hash Table
\series default
\emph default
 (
\series bold
DHT
\series default
) per associare i contenuti ai peer.
 
\end_layout

\end_deeper
\begin_layout Subsection*

\emph on
Distributed Hash Tables
\end_layout

\begin_layout Standard
È un sistema che implementa un servizio di ricerca simile ad una tabella
 di hash, che è però suddivisa tra vari nodi di una rete.
 La suddivisione è strutturata in modo che se viene a mancare uno dei membri
 della rete, la perdita di informazione è minima.
\end_layout

\begin_layout Standard
I componenti di una DHT sono:
\end_layout

\begin_layout Itemize

\series bold
\emph on
Keyspace
\series default
\emph default
: Ad esempio l'insieme delle stringhe md5 da 128bit di hash (32 caratteri
 hex)
\end_layout

\begin_layout Itemize

\series bold
Schema di partizionamento del keyspace
\series default
: suddivide le proprietà delle varie parti del 
\emph on
keyspace
\emph default
 tra i vari nodi.
\end_layout

\begin_layout Itemize

\series bold
Rete di 
\emph on
overlay
\emph default
: 
\series default
connette i nodi tra di loro, permettendo di trovare i proprietari delle
 varie parti di chiavi.
\end_layout

\begin_layout Standard
Ci sono varie implementazioni, tra cui ad esempio 
\emph on
chord
\emph default
, 
\emph on
pastry
\emph default
....
 Noi analizzeremo 
\series bold
\emph on
chord
\series default
\emph default
 come esempio.
\end_layout

\begin_layout Section*
Chord
\end_layout

\begin_layout Standard
È una implementazione di un sistema a DHT sviluppata nel 2001 insieme ad
 altri famosi sistemi DHT.
\end_layout

\begin_layout Standard
\begin_inset Graphics
	filename 023.png
	scale 30

\end_inset


\end_layout

\begin_layout Itemize
Tiene delle coppie 
\begin_inset Formula $\left(key,value\right)$
\end_inset

 , implementa una grossa tabella di coppie.
 Questa tabella non è centralizzata ma è distribuita tra i peer del sistema
 peer-to-peer.
\end_layout

\begin_layout Itemize
Il sistema ha un algoritmo per assegnare ai nodi (peers) le chiavi per le
 quali sono responsabili (un piccolo sottoinsieme).
\end_layout

\begin_layout Itemize
Trovare una risorsa significa trovare un nodo responsabile per quella risorsa.
 Le risorse sono identificate dall'hash di qualche testo che le identifica.
 Questa è la 
\series bold
chiave
\series default
.
\end_layout

\begin_layout Itemize
I 
\series bold
valori
\series default
 sono invece gli identificatori dei peer responsabili per una certa chiave.
 Quindi l'hash dell'indirizzo IP o di altre informazioni sulla rete di 
\emph on
overlay
\emph default
.
\end_layout

\begin_layout Itemize
Assumiamo di avere un hash di 
\begin_inset Formula $m$
\end_inset

 bits, allora abbiamo 
\begin_inset Formula $2^{m}$
\end_inset

 nodi.
 Abbiamo un evidente problema di collissioni: due cose diverse che diventano
 lo stesso hash.
 Questo problema è abbastanza improbabile comunque.
\end_layout

\begin_layout Standard
Solitamente rappresentiamo questi 
\begin_inset Formula $2^{m}$
\end_inset

 nodi in un cerchio che rappresenta l'intero 
\begin_inset Quotes eld
\end_inset

spazio
\begin_inset Quotes erd
\end_inset

 di hashing coperto dalla nostra funzione.
 All'interno di questo spazio sono presenti i vari nodi distribuiti in modo
 uniforme.
\end_layout

\begin_layout Standard
\begin_inset Graphics
	filename 024.png
	scale 40

\end_inset


\end_layout

\begin_layout Standard
Il cerchio può contenere ID/chiavi da 
\begin_inset Formula $0$
\end_inset

 a 
\begin_inset Formula $2^{m}-1$
\end_inset

.
\end_layout

\begin_layout Subsubsection*
Consistenza delle chiavi
\end_layout

\begin_layout Standard
Abbiamo un problema di 
\series bold
consistenza
\series default
 perché quando allochiamo gli hash dei nomi dobbiamo tentare di occupare
 con probabilità uniforme tutte le parti dello spazio di hashing: 
\series bold
\emph on
consistent hashing
\series default
\emph default
.
 
\end_layout

\begin_layout Itemize
L'algoritmo SHA-1 è quello utilizzato in questo caso per realizzare la funzione
 di hashing (SHA-1 utilizza 160 bits di digest).
\end_layout

\begin_layout Itemize
L'idea di chord è che ogni peer è responsabile per una quantità di chiavi
 equivalente alla quantità di spazio di hashing tra lui e il peer seguente
 all'interno della circonferenza che rappresenta lo spazio di hashing.
\end_layout

\begin_layout Itemize
Se l'algoritmo di hash non è consistente avremo anche un problema di load
 balancing, perchè alcuni peers sono carichi di lavoro rispetto ad altri.
\end_layout

\begin_layout Itemize
Il fatto di avere 
\emph on
consistent hashing
\emph default
 è anche una caratteristica importante per riuscire a gestire le azioni
 di join e leave dalla rete senza grossi problemi.
\end_layout

\begin_layout Subsection*
Altre caratteristiche
\end_layout

\begin_layout Itemize
Il fatto che un host contenga la tabella di certe chiavi non significa che
 lui contiene quei contenuti, significa solo che sa chi li possiede (il
 valore nella coppia che ha in tabella).
\end_layout

\begin_layout Itemize
Quando devo fare una query la faccio ad un vicino, se lui non lo sa, sarà
 lui a girare la richiesta ad altri peers.
\end_layout

\begin_deeper
\begin_layout Itemize
La query per una risorsa ha una complessità di 
\begin_inset Formula $log\left(N\right)$
\end_inset

, quindi chord è molto efficiente.
\end_layout

\end_deeper
\begin_layout Standard
Quindi le feature di chord sono:
\end_layout

\begin_layout Itemize

\series bold
Load balancing
\series default
: perchè consistent hashing
\end_layout

\begin_layout Itemize

\series bold
Decentralizzazione completa
\end_layout

\begin_layout Itemize

\series bold
Scalabilità
\series default
: possiamo arrivare fino a milioni di nodi
\end_layout

\begin_layout Itemize
Lo spazio delle chiavi è 
\begin_inset Quotes eld
\end_inset

piatto
\begin_inset Quotes erd
\end_inset

, 
\series bold
non c'è gerarchia
\series default
.
\end_layout

\begin_layout Standard
Solitamente l'applicazione p2p tipo 
\emph on
chord
\emph default
 contiene al suo interno vari componenti:
\end_layout

\begin_layout Itemize
Una 
\series bold
tabella di chiavi e valori
\series default
 che associano i computer responsabili per un certo hash.
 Questa tabella deve essere strutturata in modo che quando arriva una query
 sia consultata e sia data una risposta.
\end_layout

\begin_layout Itemize
C'è poi una sezione di 
\series bold
risorse
\series default
, i contenuti che l'host condivide (che devono essere indicizzati da altri
 sistemi).
\end_layout

\begin_layout Itemize
Ci deve poi essere un sistema per 
\series bold
costruire delle queries
\series default
.
 Ovviamente deve avere qualche parametro di sistema che descrive dov'è il
 computer (il suo 
\begin_inset Quotes eld
\end_inset

indirizzo
\begin_inset Quotes erd
\end_inset

) E quali computer deve interrogare per construire una richiesta.
 Quindi il computer ha informazioni riguardo ad altri 
\series bold
pochi 
\series default
nodi (
\begin_inset Formula $log\left(N\right)$
\end_inset

)
\end_layout

\begin_layout Standard
Vediamo un 
\series bold
esempio di rete chord
\series default
:
\end_layout

\begin_layout Itemize
\begin_inset Formula $m=3$
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $2^{m}=8$
\end_inset

 peers sul cerchio di hash
\end_layout

\begin_layout Standard
Assegnamo delle chiavi ai nodi.
 Le chiavi sono assegnate al primo nodo il cui hash (
\emph on
value
\emph default
) segue il valore delle chiave 
\begin_inset Formula $k$
\end_inset

 sulla circonferenza di hash.
 Questo nodo ha un nome, si chiama 
\begin_inset Formula $successor\left(k\right)$
\end_inset

.
 
\end_layout

\begin_layout Standard
Se ci sono 
\begin_inset Formula $N$
\end_inset

 nodi e 
\begin_inset Formula $K$
\end_inset

 chiavi, ogni nodo è responsabile di 
\begin_inset Formula $\frac{K}{N}$
\end_inset

 chiavi.
 Quindi quando un nodo lascia la rete è necessario una ridistribuzione di
 
\begin_inset Formula $O\left(\frac{K}{N}\right)$
\end_inset

 chiavi.
\end_layout

\begin_layout Subsection*
Key location
\end_layout

\begin_layout Standard
Per trovare le chiavi, ogni nodo mantiene la 
\begin_inset Quotes eld
\end_inset


\series bold
\emph on
finger table
\series default
\emph default

\begin_inset Quotes erd
\end_inset

, cioè la tabella di host da contattare per le richieste.
 È una sorta di overlay routing table.
 Questa tabella ha 
\begin_inset Formula $m$
\end_inset

 righe, quindi in questo esempio 
\begin_inset Formula $3$
\end_inset

 host.
\end_layout

\begin_layout Subsubsection*
Finger table
\end_layout

\begin_layout Standard
È una tabella di 
\begin_inset Formula $m$
\end_inset

 entries, numerate 
\begin_inset Formula $1\leq k\leq m$
\end_inset

 che contiene gli indirizzi di alcuni nodi della rete.
 Quali nodi?
\end_layout

\begin_layout Standard
\begin_inset Formula 
\[
finger[k].start=\left(n+2^{k-1}\right)\: mod\:2^{m}
\]

\end_inset


\end_layout

\begin_layout Standard
Sull'intervallo di chiavi:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\[
[finger[k].start,\quad finger[k+1].start)
\]

\end_inset


\end_layout

\begin_layout Standard
I nodi sono:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\[
startNode\geq n.finger[k].start
\]

\end_inset


\end_layout

\begin_layout Standard
E il successore .....[omissis]
\end_layout

\begin_layout Standard
E il predecessore ....[omissis] .
 Il predecessore (che funziona da puntatore in senso anti-orario) può essere
 utile quando dobbiamo riorganizzare il cerchio perché un nuovo nodo entra
 o esce dal sistema.
\end_layout

\begin_layout Standard
Il join e leave sono un problema serio per i sistmei p2p perché dobbiam
 oessere in grado di riorganizzare la rete per aggiungere il nodo.
 Specialmente nei sistemi p2p2 di video streamin, le leaves sono il problema
 principale di degradazione della qualità video.
\end_layout

\begin_layout Standard
Proviamo a disegnare nel caso dell'esempio precedente:
\end_layout

\begin_layout Itemize
Finger table del nodo 
\begin_inset Formula $n=0$
\end_inset

 :
\end_layout

\begin_deeper
\begin_layout Itemize
\begin_inset Formula $finger[1].start=1$
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $finger[1].interval=[1,\,2)$
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $finger[2].start=2$
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $finger[2].interval=[2,\,4)$
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $finger[3].start=4$
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $finger[3].interval=[4,\,0)$
\end_inset


\end_layout

\end_deeper
\begin_layout Itemize
Finger table del nodo 
\begin_inset Formula $n=3$
\end_inset

 :
\end_layout

\begin_deeper
\begin_layout Itemize
\begin_inset Formula $finger[1].start=4$
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $finger[1].interval=[4,\,5)$
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $finger[1].successor=0$
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $finger[2].start=5$
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $finger[2].interval=[5,\,7)$
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $finger[2].successor=0$
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $finger[3].start=7$
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $finger[3].interval=[7,\,3)$
\end_inset


\end_layout

\begin_layout Itemize
\begin_inset Formula $finger[2].successor=0$
\end_inset


\end_layout

\end_deeper
\begin_layout Standard
Supponiamo che il nodo 
\begin_inset Formula $n=3$
\end_inset

 vuole cercare la chiave 
\begin_inset Formula $k=1$
\end_inset

.
 Dov'è? È nell'intervallo 
\begin_inset Formula $[7,\,3)$
\end_inset

 , quindi l'unica informazione di routing utile è quella dell'ultima riga
 della finger table.
 Chi è il successore? 
\begin_inset Formula $0$
\end_inset

 , quindi il nodo 
\begin_inset Formula $0$
\end_inset

 è respnsabile di quella risorsa.
 Il nodo 
\begin_inset Formula $n=3$
\end_inset

 non ha informazioni sul nodo 0, ma sa che il nodo da contattare è 0, quindi
 avvisa il nodo 3 che inoltra la richiesta al nodo 3 per ricerare il contenuto.
\end_layout

\begin_layout Standard
Quando il nodo 0 riceve la richiesta trova il contenuto e sa che deve rispondere
 direttamente al nodo 
\begin_inset Formula $3$
\end_inset

.
\end_layout

\begin_layout Standard
Quindi da ora in poi, dato che il nodo 3 ha scoperto chi è il nodo responsabile
 per quella risorsa, lo può contattare direttamente per le query.
 
\series bold
Se
\series default
 il nodo 0 non ha fisicamente la risorsa, può rispondere con l'
\begin_inset Quotes erd
\end_inset

indirizzo
\begin_inset Quotes erd
\end_inset

 di chi possiede la risorsa.
\end_layout

\begin_layout Standard
Nel caso pessimo abbiamo sempre 
\begin_inset Formula $log\left(N\right)$
\end_inset

, dove 
\begin_inset Formula $N$
\end_inset

 è il numero di nodi.
\end_layout

\begin_layout Subsection*
Join e leaves
\end_layout

\begin_layout Standard
È la parte veramente difficile di chord e di tutti i sistemi di sistribuzione
 p2p basati su DHT.
 Il problema principale è che questo cerchio può arrivare a trovarsi in
 una situazione di inconsistenza.
 Il problema è ancora pià grave quando siamo su un sistema real-time come
 un sistema di distribuzione video p2p.
\end_layout

\begin_layout Standard
In ogni caso i 
\emph on
join
\emph default
 e 
\emph on
laves
\emph default
 implicano la ridistribuzione di chiavi tra i peer della rete.
\end_layout

\begin_layout Subsection*
Ingresso nella rete 
\end_layout

\begin_layout Standard
L'host che entra nella rete ha bisogno di una finger table iniziale, che
 deve poter ottenere da qualche host sempre attivo.
 Questa finger table iniziale deve contenere una lista di indizzi di nodi
 che possono essere raggiunti sia in senso orario che in senso antiorario
 (perché dobbiamo essere in grado di poter ridistribuire le chiavi).
\end_layout

\begin_layout Standard
Nei sistemi di distribuzione video p2p abbiamo il problema che utilizzano
 un sistema di distribuzione ad albero, se alcuni peers abbandonano la rete
 abbiamo una interruzione nell'albero! Il sistema può reagire ricostruendo
 parti dell'albero, ma è probabile che perderemo alcuni frame nella trasmissione
 video.
 Ecco perché le 
\emph on
leaves
\emph default
 nei sistemi p2p sono importanti.
 Quindi nei sistemi di 
\emph on
p2p
\emph default
 video moderni non si utilizza alberi ma sistemi mesh, per riuscire a gestire
 nel modo migliore possibile il fatto di host che escono dal sistema.
 
\end_layout

\end_body
\end_document
